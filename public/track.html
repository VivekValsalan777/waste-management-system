<!DOCTYPE html>
<html>
<head><title>Track Report</title></head>
<body>

<h2>Track Waste Report</h2>

<input id="rid" placeholder="Enter Report ID">
<button onclick="track()">Track</button>

<pre id="out"></pre>

<a href="index.html">Back</a>

<script>
function track() {
  fetch("/track/" + rid.value)
    .then(r => r.json())
    .then(d => {
      if (d.message) {
        out.innerText = d.message;
        return;
      }

      const map =
        `https://www.google.com/maps?q=${d.location.latitude},${d.location.longitude}`;

      out.innerText =
        `Report ID: ${d.reportId}
Status: ${d.status}
Date: ${new Date(d.createdAt).toLocaleString()}

Map: ${map}`;
    });
}
</script>

</body>
</html>
